{"uid":"4b4757e66a1912dae1a509f688f20b0f","children":[{"name":"Product defects","children":[{"name":"\nassert: mock: I don't know what to return because the method call was unexpected.\n\tEither do Mock.On(\"GetByPhone\").Return(...) first, or remove the GetByPhone() call.\n\tThis method was unexpected:\n\t\tGetByPhone(context.todoCtx,*dto.GetEmployeeRequest)\n\t\t0: context.todoCtx{emptyCtx:context.emptyCtx{}}\n\t\t1: &dto.GetEmployeeRequest{PhoneNumber:\"7n8c8937d38d73\"}\n\tat: [/home/runner/work/Testing/Testing/internal/storage/mocks/EmployeeStorage.go:69 /home/runner/work/Testing/Testing/internal/service/auth.go:117 /home/runner/work/Testing/Testing/internal/service/auth_test.go:78 /home/runner/go/pkg/mod/github.com/ozontech/allure-go/pkg/framework@v0.6.32/core/common/steps.go:27 /home/runner/work/Testing/Testing/internal/service/auth_test.go:59]","children":[{"name":"[LoginEmployee] Incorrect phone number","uid":"4c469ae6f86eb573","parentUid":"acf5e74c8594cbc5f49bfba6b97aa5d8","status":"failed","time":{"start":1728203504141,"stop":1728203504154,"duration":13},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":["auth","login"]}],"uid":"acf5e74c8594cbc5f49bfba6b97aa5d8"},{"name":"\n\nmock: Unexpected Method Call\n-----------------------------\n\nRegister(context.todoCtx,*dto.RegisterEmployeeRequest)\n\t\t0: context.todoCtx{emptyCtx:context.emptyCtx{}}\n\t\t1: &dto.RegisterEmployeeRequest{PhoneNumber:\"+55555555555\", FullName:\"Stepa Stepan\", CompanyID:-1, Post:1, Password:\"$2a$10$yCa0I6SVFQel9ffmrAzDCOUEQwJwnwZ36EJZ/Dv36LJt/Pd.hDZj2\", RefreshToken:\"34d2df35a705260fa45bc287545ec78cbbe41808225f1e4d2eed2174b7d0d2ef\", TokenExpiredAt:time.Date(2024, time.October, 6, 9, 31, 44, 142716585, time.UTC), DateOfBirth:time.Date(2024, time.August, 4, 20, 31, 44, 142405276, time.Local)}\n\nThe closest call I have is: \n\nRegister(context.todoCtx,*dto.RegisterEmployeeRequest)\n\t\t0: context.todoCtx{emptyCtx:context.emptyCtx{}}\n\t\t1: &dto.RegisterEmployeeRequest{PhoneNumber:\"+55555555555\", FullName:\"Stepa Stepan\", CompanyID:-1, Post:1, Password:\"123\", RefreshToken:\"456789\", TokenExpiredAt:time.Date(2024, time.December, 7, 20, 31, 44, 142404515, time.Local), DateOfBirth:time.Date(2024, time.August, 4, 20, 31, 44, 142405276, time.Local)}\n\nDifference found in argument 1:\n\n--- Expected\n+++ Actual\n@@ -5,5 +5,5 @@\n  Post: (int64) 1,\n- Password: (string) (len=3) \"123\",\n- RefreshToken: (string) (len=6) \"456789\",\n- TokenExpiredAt: (*time.Time)(2024-12-07 20:31:44.142404515 +0000 UTC m=+5400000.010739978),\n+ Password: (string) (len=60) \"$2a$10$yCa0I6SVFQel9ffmrAzDCOUEQwJwnwZ36EJZ/Dv36LJt/Pd.hDZj2\",\n+ RefreshToken: (string) (len=64) \"34d2df35a705260fa45bc287545ec78cbbe41808225f1e4d2eed2174b7d0d2ef\",\n+ TokenExpiredAt: (*time.Time)(2024-10-06 09:31:44.142716585 +0000 UTC),\n  DateOfBirth: (*time.Time)(2024-08-04 20:31:44.142405276 +0000 UTC m=-5399999.989259261)\n\nDiff: 0: PASS:  (context.todoCtx=context.TODO) == (context.todoCtx=context.TODO)\n\t1: FAIL:  (*dto.RegisterEmployeeRequest=&{+55555555555 Stepa Stepan -1 1 $2a$10$yCa0I6SVFQel9ffmrAzDCOUEQwJwnwZ36EJZ/Dv36LJt/Pd.hDZj2 34d2df35a705260fa45bc287545ec78cbbe41808225f1e4d2eed2174b7d0d2ef 2024-10-06 09:31:44.142716585 +0000 UTC 2024-08-04 20:31:44.142405276 +0000 UTC m=-5399999.989259261}) != (*dto.RegisterEmployeeRequest=&{+55555555555 Stepa Stepan -1 1 123 456789 2024-12-07 20:31:44.142404515 +0000 UTC m=+5400000.010739978 2024-08-04 20:31:44.142405276 +0000 UTC m=-5399999.989259261})","children":[{"name":"[RegisterEmployee] Incorrect company ID","uid":"b1fdb4c869c85f15","parentUid":"39b4b0f0223819200e1b079a47a2438e","status":"failed","time":{"start":1728203504141,"stop":1728203505092,"duration":951},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":["auth","register"]}],"uid":"39b4b0f0223819200e1b079a47a2438e"},{"name":"\nassert: mock: I don't know what to return because the method call was unexpected.\n\tEither do Mock.On(\"GetByPhone\").Return(...) first, or remove the GetByPhone() call.\n\tThis method was unexpected:\n\t\tGetByPhone(context.todoCtx,*dto.GetEmployeeRequest)\n\t\t0: context.todoCtx{emptyCtx:context.emptyCtx{}}\n\t\t1: &dto.GetEmployeeRequest{PhoneNumber:\"123\"}\n\tat: [/home/runner/work/Testing/Testing/internal/storage/mocks/EmployeeStorage.go:69 /home/runner/work/Testing/Testing/internal/service/auth.go:117 /home/runner/work/Testing/Testing/internal/service/auth_test.go:119 /home/runner/go/pkg/mod/github.com/ozontech/allure-go/pkg/framework@v0.6.32/core/common/steps.go:27 /home/runner/work/Testing/Testing/internal/service/auth_test.go:89]","children":[{"name":"[LoginEmployee] Incorrect password","uid":"3d793a1df9d4f658","parentUid":"550c7b7bb2150a1582aa8c880c4ad315","status":"failed","time":{"start":1728203504141,"stop":1728203504156,"duration":15},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":["auth","login"]}],"uid":"550c7b7bb2150a1582aa8c880c4ad315"},{"name":"\nassert: mock: I don't know what to return because the method call was unexpected.\n\tEither do Mock.On(\"GetByPhone\").Return(...) first, or remove the GetByPhone() call.\n\tThis method was unexpected:\n\t\tGetByPhone(context.todoCtx,*dto.GetEmployeeRequest)\n\t\t0: context.todoCtx{emptyCtx:context.emptyCtx{}}\n\t\t1: &dto.GetEmployeeRequest{PhoneNumber:\"123\"}\n\tat: [/home/runner/work/Testing/Testing/internal/storage/mocks/EmployeeStorage.go:69 /home/runner/work/Testing/Testing/internal/service/auth.go:117 /home/runner/work/Testing/Testing/internal/service/auth_test.go:180 /home/runner/go/pkg/mod/github.com/ozontech/allure-go/pkg/framework@v0.6.32/core/common/steps.go:27 /home/runner/work/Testing/Testing/internal/service/auth_test.go:130]","children":[{"name":"[LoginEmployee] Correct request","uid":"d948c86338bbf3d2","parentUid":"5348db941982b12c6f73119f97fa8c8b","status":"failed","time":{"start":1728203504142,"stop":1728203505147,"duration":1005},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":["auth","login"]}],"uid":"5348db941982b12c6f73119f97fa8c8b"}],"uid":"8fb3a91ba5aaf9de24cc8a92edc82b5d"}],"name":"categories"}